extends layout.pug
block body
  .row.pb-4
    .col-md-6
      h2.sub-header Allocation Summary
      #table-allocation-summary
        table.table
          thead.thead-dark
            tr
              th(scope='col') Type
              th(scope='col') Size
              th(scope='col') # of operations
          tbody
            tr
              th(scope='row') Current
              td= session.views.summary.current_allocated_formatted
              td= session.views.summary.current_allocations.toLocaleString()
            tr
              th(scope='row') Peak
              td= session.views.summary.peak_allocated_formatted
              td= session.views.summary.peak_allocations.toLocaleString()
            tr
              th(scope='row') Total
              td= session.views.summary.total_allocated_formatted
              td= session.views.summary.total_allocations.toLocaleString()
    if session.views.memory_layout.current
      .col-md-6
        h2.sub-header Memory Usage
        canvas#chart-memory-usage
        #table-memory-usage
          table.table
            thead.thead-dark
              tr
                th(scop='col') Type
                th(scope='col') Size
            tbody
              tr
                th(scope='row') Static
                td= session.views.memory_layout.static
              tr
                th(scope='row') Stack
                td= session.views.memory_layout.stack
              tr
                th(scope='row') Available Stack
                td= session.views.memory_layout.available_stack
              tr
                th(scope='row') Dynamic
                td= session.views.memory_layout.dynamic
              tr
                th(scope='row') Available Dynamic
                td= session.views.memory_layout.available_dynamic
              tr
                th(scope='row') Total
                td= session.views.memory_layout.total
  .row
    h2.sub-header Memory Usage History
    #chart-memory-usage-history
  script. 
    var myChart = new Chart(document.getElementById('chart-memory-usage'), {
      type: 'bar',
       data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
          label: '# of Votes',
          data: [12, 19, 3, 5, 2, 3],
          backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            'rgba(153, 102, 255, 0.2)',
            'rgba(255, 159, 64, 0.2)'
          ],
          borderColor: [
            'rgba(255, 99, 132, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
            'rgba(255, 159, 64, 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });